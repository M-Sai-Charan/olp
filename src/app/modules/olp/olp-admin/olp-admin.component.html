<div class="surface-card p-4 shadow-2 border-round form-container max-w-screen-lg mx-auto relative">
  <h2 class="text-2xl font-bold mb-4 border-b-2 pb-3">Add / Manage Employee</h2>

  <!-- Add New Employee Button -->
  <div class="admin-new-employee">
    <button
      pButton
      type="button"
      icon="pi pi-user-plus"
      class="p-button-secondary"
      (click)="showAddDialog()"
      pTooltip="Add New Employee"
      tooltipPosition="left"
    ></button>
  </div>

  <form [formGroup]="adminForm" (ngSubmit)="submitForm()">
    <div class="grid formgrid p-fluid">
      <!-- Employee -->
      <div class="field col-12 md:col-4">
        <label for="employee">Employee</label>
        <p-dropdown
          id="employee"
          formControlName="employee"
          [options]="employees"
          optionLabel="name"
          placeholder="Select Employee"
        ></p-dropdown>
        <p-message
          *ngIf="isInvalid('employee')"
          severity="error"
          text="Employee is required"
        ></p-message>
      </div>

      <!-- Team -->
      <div class="field col-12 md:col-4">
        <label for="team">Team</label>
        <p-dropdown
          id="team"
          formControlName="team"
          [options]="teams"
          optionLabel="name"
          placeholder="Select Team"
        ></p-dropdown>
        <p-message
          *ngIf="isInvalid('team')"
          severity="error"
          text="Team is required"
        ></p-message>
      </div>

      <!-- Role -->
      <div class="field col-12 md:col-4">
        <label for="role">Role</label>
        <p-dropdown
          id="role"
          formControlName="role"
          [options]="roles"
          optionLabel="name"
          placeholder="Select Role"
        ></p-dropdown>
        <p-message
          *ngIf="isInvalid('role')"
          severity="error"
          text="Role is required"
        ></p-message>
      </div>

      <!-- Joining Date -->
      <div class="field col-12 md:col-4">
        <label for="joiningDate">Joining Date</label>
        <p-calendar
          id="joiningDate"
          formControlName="joiningDate"
          dateFormat="dd/mm/yy"
          inputId="joiningDate"
          placeholder="Select Date"
          styleClass="w-full"
        ></p-calendar>
        <p-message
          *ngIf="isInvalid('joiningDate')"
          severity="error"
          text="Joining Date is required"
        ></p-message>
      </div>

      <!-- Email -->
      <div class="field col-12 md:col-4">
        <label for="email">Email</label>
        <input
          id="email"
          type="email"
          pInputText
          formControlName="email"
          placeholder="example@mail.com"
        />
        <p-message
          *ngIf="isInvalid('email')"
          severity="error"
          text="Valid email is required"
        ></p-message>
      </div>

      <!-- Phone -->
      <div class="field col-12 md:col-4">
        <label for="phone">Phone</label>
        <input
          id="phone"
          type="text"
          pInputText
          formControlName="phone"
          placeholder="+1-234-567-890"
        />
        <p-message
          *ngIf="isInvalid('phone')"
          severity="error"
          text="Phone is required"
        ></p-message>
      </div>

      <!-- Address -->
      <div class="field col-12">
        <label for="address">Address</label>
        <textarea
          id="address"
          pInputTextarea
          formControlName="address"
          rows="3"
          placeholder="Enter employee address"
        ></textarea>
        <p-message
          *ngIf="isInvalid('address')"
          severity="error"
          text="Address is required"
        ></p-message>
      </div>
    </div>

    <div class="text-right mt-4">
      <button
        pButton
        type="submit"
        label="Save"
        class="p-button-success bounce-hover"
        [disabled]="adminForm.invalid"
      ></button>
      <button
        pButton
        type="button"
        label="Reset"
        class="p-button-text"
        (click)="onReset()"
      ></button>
    </div>
  </form>
</div>

<!-- Add New Employee Dialog -->
<p-dialog
  header="Add New Employee"
  [(visible)]="showDialog"
  [modal]="true"
  [closable]="false"
  [style]="{ width: '320px' }"
>
  <div class="p-fluid mt-4">
    <div class="field">
      <input
        pInputText
        [(ngModel)]="newEmployeeName"
        placeholder="Enter employee name"
        autofocus
      />
    </div>
  </div>
  <div class="p-dialog-footer">
    <button
      pButton
      label="Cancel"
      class="p-button-text"
      (click)="cancelAddEmployee()"
    ></button>
    <button
      pButton
      label="Add"
      [disabled]="!newEmployeeName.trim()"
      (click)="confirmAddEmployee()"
      class="p-button-success"
    ></button>
  </div>
</p-dialog>
